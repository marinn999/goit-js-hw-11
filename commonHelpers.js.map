{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImage(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n\n  const params = new URLSearchParams({\n    key: '44039917-a1e08adf8a4d452f4e6ec8aba',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = `${BASE_URL}?${params}`;\n  const loader = document.querySelector('.loader');\n  loader.classList.remove('is-hidden');\n  loader.textContent = 'Loading images, please wait...';\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n","function imageTemplate(image) {\n  return `<li class=\"gallery-item\" data-id=\"${image.id}\">\n        <div class=\"img-container\" >\n        <a class=\"large-image\" href=\"${image.largeImageURL}\">\n        <img class=\"image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n        </a> \n        </div>\n        <ul class=\"description-list\" >\n          <li class=\"description-item\"><p class=\"description-item-text\">Likes</p><p class=\"description-item-numb\">${image.likes}</p></li>\n          <li class=\"description-item\"><p class=\"description-item-text\">Views</p><p class=\"description-item-numb\">${image.views}</p></li>\n          <li class=\"description-item\"><p class=\"description-item-text\">Comments</p><p class=\"description-item-numb\">${image.comments}</p></li>\n          <li class=\"description-item\"><p class=\"description-item-text\">Downloads</p><p class=\"description-item-numb\">${image.downloads}</p></li>\n        </ul>\n      </li>`;\n}\nexport function imagesTemplate(arr) {\n  return arr.map(imageTemplate).join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { searchImage } from './js/pixabay-api';\nimport { imagesTemplate } from './js/render-functions';\n\nconst iziToastOptions = {\n  message:\n    'Sorry, there are no images matching your search query. Please try again!',\n  messageColor: 'white',\n  messageSize: '16px',\n  backgroundColor: 'red',\n  position: 'topRight',\n  timeout: 5000,\n  drag: true,\n  overlay: true,\n  overlayClose: true,\n};\n\nconst iziToastErr = {\n  message: 'Sorry, something goes wrong!',\n  backgroundColor: 'red',\n  messageColor: 'white',\n  position: 'topRight',\n  timeout: 5000,\n  drag: true,\n  overlay: true,\n  overlayClose: true,\n};\n\nconst formElem = document.querySelector('.form');\nconst imagesList = document.querySelector('.images-container');\nconst loader = document.querySelector('.loader');\n\nformElem.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = event.target.elements.query.value.trim();\n\n  searchImage(query)\n    .then(data => {\n      {\n        if (data.hits.length === 0) {\n          iziToast.show(iziToastOptions);\n        } else {\n          const markup = imagesTemplate(data.hits);\n          imagesList.innerHTML = markup;\n        }\n      }\n    })\n    .then(() => {\n      loader.classList.add('is-hidden');\n      const lightbox = new SimpleLightbox('.large-image', {\n        captionDelay: 250,\n        captionsData: 'alt',\n      });\n      lightbox.refresh();\n    })\n    .catch(error => {\n      iziToast.show(iziToastErr);\n    });\n\n  formElem.reset();\n});\n"],"names":["searchImage","query","BASE_URL","params","url","loader","response","imageTemplate","image","imagesTemplate","arr","iziToastOptions","iziToastErr","formElem","imagesList","event","data","iziToast","markup","SimpleLightbox","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CACjC,MAAMC,EAAW,2BAEXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAC3BE,EAAS,SAAS,cAAc,SAAS,EAC/C,OAAAA,EAAO,UAAU,OAAO,WAAW,EACnCA,EAAO,YAAc,iCAEd,MAAMD,CAAG,EAAE,KAAKE,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,CCtBA,SAASC,EAAcC,EAAO,CAC5B,MAAO,qCAAqCA,EAAM,EAAE;AAAA;AAAA,uCAEfA,EAAM,aAAa;AAAA,kCACxBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,oHAI4CA,EAAM,KAAK;AAAA,oHACXA,EAAM,KAAK;AAAA,uHACRA,EAAM,QAAQ;AAAA,wHACbA,EAAM,SAAS;AAAA;AAAA,YAGvI,CACO,SAASC,EAAeC,EAAK,CAClC,OAAOA,EAAI,IAAIH,CAAa,EAAE,KAAK,EAAE,CACvC,CCRA,MAAMI,EAAkB,CACtB,QACE,2EACF,aAAc,QACd,YAAa,OACb,gBAAiB,MACjB,SAAU,WACV,QAAS,IACT,KAAM,GACN,QAAS,GACT,aAAc,EAChB,EAEMC,EAAc,CAClB,QAAS,+BACT,gBAAiB,MACjB,aAAc,QACd,SAAU,WACV,QAAS,IACT,KAAM,GACN,QAAS,GACT,aAAc,EAChB,EAEMC,EAAW,SAAS,cAAc,OAAO,EACzCC,EAAa,SAAS,cAAc,mBAAmB,EACvDT,EAAS,SAAS,cAAc,SAAS,EAE/CQ,EAAS,iBAAiB,SAAUE,GAAS,CAC3CA,EAAM,eAAc,EAEpB,MAAMd,EAAQc,EAAM,OAAO,SAAS,MAAM,MAAM,OAEhDf,EAAYC,CAAK,EACd,KAAKe,GAAQ,CAEV,GAAIA,EAAK,KAAK,SAAW,EACvBC,EAAS,KAAKN,CAAe,MACxB,CACL,MAAMO,EAAST,EAAeO,EAAK,IAAI,EACvCF,EAAW,UAAYI,CACxB,CAET,CAAK,EACA,KAAK,IAAM,CACVb,EAAO,UAAU,IAAI,WAAW,EACf,IAAIc,EAAe,eAAgB,CAClD,aAAc,IACd,aAAc,KACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,CACdH,EAAS,KAAKL,CAAW,CAC/B,CAAK,EAEHC,EAAS,MAAK,CAChB,CAAC"}